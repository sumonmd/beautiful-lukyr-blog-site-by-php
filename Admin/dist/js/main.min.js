/**
 * MegaDin v1.0.0 ()
 * Copyright 2017 ThemeBucket
 * Licensed under the ISC license
 */
!function(e){"use strict";e(function(){function a(){Modernizr.mq("screen and (min-width:768px)")?(h===!0&&c.addClass("ui-aside-compact"),g===!0&&l.addClass("ui-content-compact")):Modernizr.mq("screen and (max-width:767px)")&&(h===!0&&c.removeClass("ui-aside-compact"),g===!0&&l.removeClass("ui-content-compact"),d.on("click",function(e){e.preventDefault();var a=c.hasClass("ui-aside-compact"),o=l.hasClass("ui-content-compact");a&&o&&l.removeClass("ui-content-compact")}),p.on("click",function(e){e.preventDefault();var a=c.hasClass("ui-aside-compact"),o=l.hasClass("ui-content-compact");o&&a&&c.removeClass("ui-aside-compact")}))}function o(e,a){var e=e||"add",a=a||"";b.off("click.MailAnchor"),b.on("click.MailAnchor",function(o){o.preventDefault(),"add"===e?w.addClass(z):"remove"===e&&w.removeClass(z),"show"===a?k.show():"hide"===a&&k.hide()})}function t(e){var e=e||"add";M.off("click.NoteClick"),M.on("click.NoteClick",".Note",function(a){a.preventDefault(),"remove"===e?N.removeClass(y):"add"===e&&N.addClass(y),console.log(e)})}var i=e(window),s=i.width(),n=e("body"),c=e("#ui"),l=e("#content"),r=e("[ui-nav]"),d=e('[data-toggle="ui-nav"]'),u=e('[data-toggle="ui-nav--mobile-only"]'),v=e("#aside"),f=e(".ui-aside-right"),p=e('[data-toggle="ui-aside-right"]');if(d.on("click",function(e){e.preventDefault(),c.toggleClass("ui-aside-compact")}),p.on("click",function(e){e.preventDefault(),l.toggleClass("ui-content-compact")}),n.on("click.asideRight",function(e){0!=f.has(e.target).length||f.is(e.target)||0!=p.has(e.target).length||p.is(e.target)||l.removeClass("ui-content-compact")}),i.on("resize.windowscreen",function(){var a=e(this).width();a<768?(n.on("click.aside",function(e){0!=v.has(e.target).length||v.is(e.target)||0!=d.has(e.target).length||d.is(e.target)||c.removeClass("ui-aside-compact")}),u.on("click",function(e){e.preventDefault(),c.removeClass("ui-aside-compact")})):(n.off("click.aside"),u.off("click"))}),i.trigger("resize.windowscreen"),r.on("click","a",function(a){var o=e(this).attr("href");o&&(window.location.href=o);var t,i=e(a.target);i.is("a")||(i=i.closest("a")),t=i.parent().siblings(".active"),t&&t.toggleClass("active").find("> ul:visible").stop().slideUp(200),i.parent().hasClass("active")&&i.next().stop().slideUp(200)||i.next().stop().slideDown(200),i.parent().toggleClass("active"),i.next().is("ul")&&a.preventDefault()}),c.hasClass("ui-aside-compact"))var h=!0;if(l.hasClass("ui-content-compact"))var g=!0;var m;i.on("resize",function(){clearTimeout(m),m=setTimeout(a,0)}),a(),e('[data-toggle="tooltip"]').tooltip(),e('[data-toggle="popover"]').popover();var C=e(".panel");C.on("click.PanelCollapse",".collapse-box",function(a){var o=e(this),t=e(a.delegateTarget),i=t.find(".panel-heading"),s=t.find(".panel-body");o.hasClass("fa-chevron-down")?(o.removeClass("fa-chevron-down").addClass("fa-chevron-up"),i.removeClass("panel-border"),s.slideUp(200)):(o.removeClass("fa-chevron-up").addClass("fa-chevron-down"),i.addClass("panel-border"),s.slideDown(200))}),C.on("click.PanelDestroy",".close-box",function(a){e(a.delegateTarget).remove()}),C.on("click.PanelRefresh",".refresh-box",function(a){a.preventDefault();var o=e(a.delegateTarget),t=e("<div class='refresh-block'><span class='refresh-loader'><i class='fa fa-spinner fa-spin'></i></span></div>");t.appendTo(o),setTimeout(function(){o.find(".refresh-block").remove()},1e3)}),autosize(e(".autosize")),e(".niceScroll").niceScroll({zindex:"10",cursorwidth:"8px",cursoropacitymax:.3,cursorcolor:"#000000",cursordragontouch:!0,cursorborderradius:"10px",cursorborder:"2px solid transparent"});var k=e(".Mailbox-nav-aside"),w=e(".Mailbox-list"),b=e(".Mail > a"),x=e("#toggle-mailbox-nav"),D=e("#return-mailbox-list > a"),z="Mailbox-list--slideLeft";x.on("click.MailboxToggle",function(e){e.stopPropagation(),k.toggle()}),D.on("click.MailboxListReturn",function(e){e.preventDefault(),w.removeClass(z)}),s<=767&&o("add","hide"),s<=1200&&o("add"),i.on("resize.Mailbox",function(){var a=e(this).width();a<=767?(k.hide(),o("add","hide")):(w.removeClass(z),k.show(),o("remove","show")),a<=1200?o("add"):(w.removeClass(z),o("remove"))});var M=e(".Note-list"),N=e(".Note-aside"),T=e(".return-note-list"),y="Note-aside--slideleft";T.on("click.NoteListReturn",function(e){e.preventDefault(),N.removeClass(y)}),s<=767&&t(),i.on("resize.NoteResize",function(){e(this).width()<=767?t():(N.removeClass(y),t("remove"))})})}(jQuery);